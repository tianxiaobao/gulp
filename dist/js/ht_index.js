define(function(require,exports,module){"use strict";function IndexJs(){this.init()}var $=require("jquery");require("slider");IndexJs.prototype.init=function(){function resize(){num=$(".limit-slide.show a").length,width=216*num+30*(num-1),$(".limit-slide.show").css("width",width),curPro=0}function change(num){var goLeft=246*-num;$(".limit-slide.show").animate({marginLeft:goLeft})}var _self=this;_self.htSlide("#ban_slider",!1,"leftLoop",!0,3500);var num,width,curPro=0;$("#limit-prev").click(function(){curPro=curPro>0?--curPro:num-5,change(curPro)}),$("#limit-next").click(function(){curPro=curPro<num-5?++curPro:0,change(curPro)}),$(".limit-tab").find("a").each(function(item){$(this).click(function(){$(this).addClass("cur").siblings().removeClass("cur"),$(".limit-slide").removeClass("show"),$($(".limit-slide")[$(this).index()]).addClass("show"),$(".limit-time").removeClass("show"),$($(".limit-time")[$(this).index()]).addClass("show"),resize()}),resize()}),IndexJs.prototype.showCountDown=function(year,month,day,flag){var now=new Date,endDate=new Date(year,month-1,day),leftTime=endDate.getTime()-now.getTime(),leftsecond=parseInt(leftTime/1e3),hour=Math.floor(leftsecond/3600),minute=Math.floor((leftsecond-3600*hour)/60),second=Math.floor(leftsecond-3600*hour-60*minute);flag?$(".limit-tab p")[0].innerHTML="本期将于<span>"+hour+"</span>小时<span>"+minute+"</span>分<span>"+second+"</span>秒后结束":$(".limit-tab p")[1].innerHTML="下期将于<span>"+hour+"</span>小时<span>"+minute+"</span>分<span>"+second+"</span>秒后开始"},$(".sec-tab").find("li").each(function(item){$(this).hover(function(){$(this).parents(".sec-tab").find(".tab-pannel").hide(),$(this).parent().find("li").removeClass("cur"),$($(this).parents(".sec-tab").find(".tab-pannel")[$(this).index()]).show(),$($(this).parent().find("li")[$(this).index()]).addClass("cur")})}),$(window).scroll(function(){function resetClass(name){$(".pos-tab a").removeClass("hover"),$(".pos-tab .pos-tab-"+name).addClass("hover")}var scrollTop=$(window).scrollTop();if(scrollTop>1300){var height=scrollTop-1300+85;$(".pos-tab").css("top",height+"px"),resetClass("mz"),scrollTop>1750&&resetClass("my"),scrollTop>2470&&resetClass("ry"),scrollTop>3100&&resetClass("sp"),scrollTop>3564&&$(".pos-tab").css("top","2347px")}else $(".pos-tab").css("top","85px")}),$(".pos-tab").find("a").each(function(item){var curTab;$(this).click(function(){switch(curTab=$(this).index()){case 0:$("body,html").animate({scrollTop:1301},200);break;case 1:$("body,html").animate({scrollTop:1984},200);break;case 2:$("body,html").animate({scrollTop:2668},200);break;case 3:$("body,html").animate({scrollTop:3349},200)}}),$(this).hover(function(){curTab=$(".pos-tab a.hover").index(),$(this).addClass("hover")},function(){curTab!==$(this).index()&&$(this).removeClass("hover")})})},IndexJs.prototype.htSlide=function(slideBox,moverStop,effect,autoPlay,time){$(slideBox).slide({mainCell:".slide_box",titCell:".guide li",mouseOverStop:moverStop,effect:effect,vis:1,autoPlay:autoPlay,interTime:time})},module.exports=new IndexJs});